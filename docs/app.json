[{"name": "app.py", "content": "from shiny import App, Inputs, Outputs, Session, render, req, ui, reactive\nfrom htmltools import TagList, div\n\n###################### CSS #######################\nimport pandas as pd\nfrom shinyswatch import theme\nimport shiny_tools\nfrom index import index_body\nfrom setup import setup_body\nimport pathlib\n\nterminal_css = \"\"\nyaml_css = \"background-color: #F0F0F0;white-space: nowrap; font-size: 20px ;margin-top:-15px;font-family: Consolas,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New, monospace;-webkit-user-select: none; -ms-user-select: none; user-select: none;\"\n############ HEADER #######################\nheader = (\n    ui.card_header(\n        ui.HTML(\n            \"\"\"<p><strong>Beta Version</strong>: 1.2.0. This pipeline is currently in Beta testing, and issues could appear during submission. Please use it at your own risk. Feedback and suggestions are welcome!</p>\"\"\"\n        ),\n        ui.card(\n            ui.strong(\"Documentation Page is Under Development. Not all buttons are functioning correctly/some documentation is not yet available. This should be resolved shortly.\"),\n        )\n    ),\n)\n############## FOOTER #######################\nfooter = (\n    ui.card_footer(\n        ui.HTML(\n            \"\"\"<p><strong>General Disclaimer</strong>: This repository was created for use by CDC programs to collaborate on public health related projects in support of the <a href=\"https://www.cdc.gov/about/organization/mission.htm\">CDC mission</a>. GitHub is not hosted by the CDC, but is a third party website used by CDC and its partners to share information and collaborate on software. CDC use of GitHub does not imply an endorsement of any one particular service, product, or enterprise.</p>\"\"\"\n        ),\n    ),\n)\n############### FUNCTIONS #########################\nui.input_checkbox_group(\n    \"select_databases\",\n    \"Select Database(s):\",\n    {\n        \"GenBank\": ui.span(\"GenBank\"),\n        \"SRA\": ui.span(\"SRA\"),\n        \"BioSample\": ui.span(\"BioSample\"),\n        \"blue\": ui.span(\"GISAID\"),\n    },\n),\n\n\n####################### PREREQUISITES PAGE ###########################\nncbi_prereq = [\n    ui.HTML(\n        \"\"\"\n<strong>NCBI Submissions</strong>\n<p><code>seqsender</code> utilizes an UI-Less Data Submission Protocol to bulk upload submission files (e.g., <em>submission.xml</em>, <em>submission.zip</em>, etc.) to NCBI archives. The submission files are uploaded to the NCBI server via FTP on the command line. Before attempting to submit a submission using <code>seqsender</code>, submitter will need to</p>\n<ol style=\"list-style-type: decimal\">\n<li><p>Have a NCBI account. To sign up, visit <a href=\"https://account.ncbi.nlm.nih.gov/\">NCBI website</a>.</p></li>\n<li><p>Required for CDC users and highly recommended for others is creating a center account for your institution/lab <a href=\"https://submit.ncbi.nlm.nih.gov/sarscov2/sra/#step6\">NCBI Center Account Instructions</a>. Center accounts allow you to perform submissions UI-less submissions as your institution/lab.</p></li>\n<li><p>Required for CDC users and also recommended is creating a submission group in <a href=\"https://submit.ncbi.nlm.nih.gov\">NCBI Submission Portal</a>. A group should include all individuals who need access to UI-less submissions through the web interface with your center account. Each member of the group must also have an individual NCBI account. <a href=\"https://account.ncbi.nlm.nih.gov/\">NCBI website</a>.</p></li>\n<li><p>Refer to this page for information regarding requirements for GenBank submissions via FTP only. This page applies only for COVID and Influenza <a href=\"https://submit.ncbi.nlm.nih.gov/sarscov2/genbank/#step5\">NCBI GenBank FTP Submissions</a> For further questions contact <a href=\"mailto:gb-admin@ncbi.nlm.nih.gov\">gb-admin@ncbi.nlm.nih.gov</a> to discuss requirements for submissions.</p></li>\n<li><p>Coordinate a NCBI namespace name (<strong>spuid_namespace</strong>)</p></li>\n</ol>\n\"\"\"\n    ),\n]\ngisaid_prereq = [\n    ui.HTML(\n        \"\"\"\n<strong>GISAID Submissions</strong>\n<p><code>seqsender</code> makes use of GISAID\u2019s Command Line Interface tools to bulk uploading meta- and sequence-data to GISAID databases. Presently, the pipeline only allows upload to EpiFlu (<strong>Influenza A Virus</strong>) and EpiCoV (<strong>SARS-COV-2</strong>) databases. Before uploading, submitter needs to</p>\n<ol style=\"list-style-type: decimal\">\n<li><p>Have a GISAID account. To sign up, visit <a href=\"https://gisaid.org/\">GISAID Platform</a>.</p></li>\n<li><p>Request a client-ID for EpiFlu or EpiCoV database in order to use its CLI tool. The CLI utilizes the client-ID along with the username and password to authenticate the database prior to make a submission. To obtain a client-ID, please email <a href=\"mailto:clisupport@gisaid.org\">clisupport@gisaid.org</a> to request. <em><strong>Important note</strong>: If submitter would like to upload a \u201ctest\u201d submission first to familiarize themselves with the submission process prior to make a real submission, one should additionally request a test client-id to perform such submissions.</em></p></li>\n<li><p>Download the <a href=\"https://cdcgov.github.io/seqsender/articles/images/fluCLI_download.png\" target=\"_blank\">EpiFlu</a> or <a href=\"https://cdcgov.github.io/seqsender/articles/images/covCLI_download.png\" target=\"_blank\">EpiCoV</a> CLI from the <strong>GISAID platform</strong> and stored them in the destination of choice prior to perform a batch upload.</p></li>\n</ol>\n\"\"\"\n    ),\n]\nprerequisites_body = [\n    ui.h2(\"Prerequisites\"),\n    ui.navset_tab(\n        ui.nav_panel(\"NCBI\", ncbi_prereq),\n        ui.nav_panel(\"GISAID\", gisaid_prereq),\n        id=\"prerequisites_tab\",\n    ),\n]\n####################### INSTALLATION PAGE ###########################\n#### LOCAL INSTALLATION\ngisaid_installation_content = [\n    ui.HTML(\n        \"\"\"<p>Here is a quick look of where to store the downloaded <strong>GISAID CLI</strong> package.</p>\n\"\"\"\n    ),\n]\nlocal_installation_content = [\n    shiny_tools.software_requirements(\"Local\"),\n    ui.HTML(\n        \"\"\"\n<h2>Micromamba Installation</h2>\n<p>Here we recommend using <strong>micromamba</strong> to set up a virtual environment to run <code>seqsender</code>. <strong>Micromamba</strong> is a tiny, statically linked C++ reimplementation of mamba which is an alternative to conda. The tool works as a standalone package manager that supports a subset of all mamba or conda commands, but it also has its own separate command line interfaces. For more information, visit <a href=\"https://mamba.readthedocs.io/en/latest/user_guide/micromamba.html\">micromamba documentation</a>.</p>\n<p>To manually install, download and unzip the executable from the official <strong>conda-forge</strong> package to your <code>$HOME</code> directory using <code>tar</code>.</p>\n<pre><code>cd $HOME</code></pre>\n<strong>LINUX</strong>\n<pre><code># Linux Intel (x86_64):\ncurl -Ls https://micro.mamba.pm/api/micromamba/linux-64/latest | tar -xvj bin/micromamba\n# Linux ARM64:\ncurl -Ls https://micro.mamba.pm/api/micromamba/linux-aarch64/latest | tar -xvj bin/micromamba\n# Linux Power:\ncurl -Ls https://micro.mamba.pm/api/micromamba/linux-ppc64le/latest | tar -xvj bin/micromamba</code></pre>\n<strong>macOS</strong>\n<pre><code># macOS Intel (x86_64):\ncurl -Ls https://micro.mamba.pm/api/micromamba/osx-64/latest | tar -xvj bin/micromamba\n# macOS Silicon/M1 (ARM64):\ncurl -Ls https://micro.mamba.pm/api/micromamba/osx-arm64/latest | tar -xvj bin/micromamba</code></pre>\n<p>After the extraction is completed, you can find the executable at <code>$HOME/bin/micromamba</code></p>\n<ul>\n<li>To quickly use <code>micromamba</code>, you can simply run</li>\n</ul>\n<pre><code>export MAMBA_ROOT_PREFIX=&quot;$HOME/micromamba&quot;\neval &quot;$($HOME/bin/micromamba shell hook -s posix)&quot;</code></pre>\n<ul>\n<li>To persist using <code>micromamba</code>, you can append the following script to your <code>.bashrc</code> (or <code>.zshrc</code>)</li>\n</ul>\n<pre><code># &gt;&gt;&gt; mamba initialize &gt;&gt;&gt;\nexport MAMBA_EXE=&quot;$HOME/bin/micromamba&quot;;\nexport MAMBA_ROOT_PREFIX=&quot;$HOME/micromamba&quot;;\n__mamba_setup=&quot;$(&quot;$MAMBA_EXE&quot; shell hook --shell bash --root-prefix &quot;$MAMBA_ROOT_PREFIX&quot; 2&gt; /dev/null)&quot;\nif [ $? -eq 0 ]; then\n    eval &quot;$__mamba_setup&quot;\nelse\n    alias micromamba=&quot;$MAMBA_EXE&quot;  # Fallback on help from mamba activate\nfi\nunset __mamba_setup\n# &lt;&lt;&lt; mamba initialize &lt;&lt;&lt;</code></pre>\n<ul>\n<li>To check the current version of <code>micromamba</code></li>\n</ul>\n<pre><code>micromamba --version\n1.5.6</code></pre>\n<h2>Set up a <code>micromamba</code> environment</h2>\n<ol style=\"list-style-type: decimal\">\n<li>Clone this repository to your <code>$HOME</code> directory</li>\n</ol>\n<pre><code>cd $HOME\ngit clone https://github.com/CDCgov/seqsender.git</code></pre>\n<ol start=\"2\" style=\"list-style-type: decimal\">\n<li><code>CD</code> to <strong>seqsender</strong> folder where the <code>env.yaml</code> file is stored. Let\u2019s create a virtual environment named <strong>mamba</strong> that contains all dependencies needed to run <code>seqsender</code> from the source file.</li>\n</ol>\n<pre><code>cd seqsender\nmicromamba create --name seqsender --file env.yaml</code></pre>\n<ol start=\"3\" style=\"list-style-type: decimal\">\n<li>Activate the named environment \u2013 <strong>seqsender</strong></li>\n</ol>\n<pre><code>micromamba activate seqsender</code></pre>\n<h2>Run <code>seqsender</code> within the mamba environment</h2>\n<pre><code>python seqsender.py --help</code></pre>\"\"\"\n    ),\n    shiny_tools.seqsender_help_output_msg(\"Local\"),\n    ui.HTML(\n        \"\"\"\n<p>To see the arguments required for each command, for example, the <code>submit</code> command, run</p>\n<pre><code>python seqsender.py submit --help</code></pre>\n\"\"\"\n    ),\n    shiny_tools.seqsender_submit_help_output_msg(\"Local\"),\n]\n#### DOCKER INSTALLATION\ndocker_installation_content = [\n    shiny_tools.software_requirements(\"Docker\"),\n    ui.HTML(\n        \"\"\"\n<h2>Clone <code>seqsender</code> repo to your $HOME directory and navigate to the repo</h2>\n<pre><code>cd $HOME\ngit clone https://github.com/CDCgov/seqsender.git\ncd seqsender</code></pre>\"\"\"\n    ),\n    ui.navset_card_pill(\n        ui.nav_panel(\n            \"Docker-Build\",\n            [\n                ui.HTML(\n                    \"\"\"\n<h2>In the directory where the <code>Dockerfile</code> is stored, build docker image</h2>\n<pre><code>docker build -t seqsender:latest .</code></pre>\n<p><strong>-t</strong>: add a tag to an image, e.g.\u00a0<em>seqsender:1.0.0</em> or <em>seqsender:latest</em></p>\n<br>\n<h2>After the build is complete, you can check if the image is created successfully.</h2>\n<pre><code>docker images</code></pre>\"\"\"\n                ),\n                ui.card(\n                    ui.HTML(\n                        \"\"\"\ndocker images<br>\nREPOSITORY&nbsp;TAG&nbsp;|&nbsp;&nbsp;IMAGE ID&nbsp;|&nbsp;&nbsp;CREATED&nbsp;|&nbsp;SIZE<br>\nseqsender&nbsp;latest&nbsp;d9e2578d2211&nbsp;2 weeks ago&nbsp;581GB\n\"\"\"\n                    ),\n                    style=terminal_css,\n                ),\n                ui.HTML(\n                    \"\"\"\n<h2>Run <code>seqsender</code> container</h2>\n<pre><code>docker run \\\n-v $HOME:/data \\\n-t -d seqsender:latest \\\n--name seqsender</code></pre>\n<p><strong><code>-t</code></strong>: allocate a pseudo-tty <br> <strong><code>-d</code></strong>: run the container in detached mode <br> <strong><code>-v</code></strong>: mount data files from host directory to container directory <strong>[host_div]:[container_dir]</strong>. By exposing the host directory to docker container, docker will be able to access data files within that mounted directory and use it to fire up the <code>seqsender</code>workflows. <strong>NOTE:</strong> Here we are mounting the local <code>$HOME</code> directory to <code>/data</code> directory inside the container.<br> <strong><code>--name</code></strong>: give an identity to the container <br></p>\n<p>For more information about the Docker syntax, see <a href=\"https://docs.docker.com/engine/reference/run/\" target=\"_blank\">Docker run reference</a></p>\"\"\"\n                ),\n            ],\n        ),\n        ui.nav_panel(\"Docker-Compose\", \"Panel A content\"),\n        id=\"docker_options\",\n    ),\n    ui.HTML(\n        \"\"\"\n<h2>check if the container is created successfully</h2>\n<pre><code>docker container ps</code></pre>\n\"\"\"\n    ),\n    ui.card(\n        ui.HTML(\n            \"\"\"\ndocker container ps<br>\nCONTAINER ID&nbsp;|&nbsp;&nbsp;|&nbsp;IMAGE&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;COMMAND&nbsp;|&nbsp;&nbsp;|&nbsp;CREATED&nbsp;|&nbsp;&nbsp;STATUS&nbsp;|&nbsp;PORTS&nbsp;|&nbsp;NAMES\nb37b6b19c4e8&nbsp;seqsender:latest&nbsp;&quot;/bin/bash&quot;&nbsp;5 hours ago&nbsp;Up 5 hours&nbsp;|&nbsp;&nbsp;|&nbsp;seqsender\n\"\"\"\n        ),\n        style=terminal_css,\n    ),\n    ui.HTML(\n        \"\"\"\n<h2>See a list of commands in <code>seqsender</code> container</h2>\n<pre><code>docker exec -it seqsender bash seqsender-kickoff --help</code></pre>\n<p><strong><code>-t</code></strong>: allocate a pseudo-tty <br> <strong><code>-i</code></strong>: keep STDIN open even if not attached <br> <strong><code>-h</code></strong>, <strong><code>--help</code></strong>: show help messages and exit</p>\n\"\"\"\n    ),\n    shiny_tools.seqsender_help_output_msg(\"Docker\"),\n]\n#### SINGULARITY INSTALLATION\nsingularity_installation_content = [\n    shiny_tools.software_requirements(\"Singularity\"),\n    ui.HTML(\n        \"\"\"\n<h2>Convert seqsender Docker image into a Singularity image</h2>\n<p>There is a <code>seqsender</code> Docker image already built and stored on our DockerHub registry: <strong>cdcgov/seqsender-dev:latest</strong>. You can directly pull the Docker Image down from the registry, convert it into a Singularity image, and store it in a destination of your choice.</p>\n<pre><code>singularity build ~/singularity/seqsender.sif docker://cdcgov/seqsender-dev:latest</code></pre>\n<h2>After the Singularity image is built successfully, we can go ahead and use it to run <code>seqsender</code></h2>\n<p>Here is the command that shows the help messages of <code>seqsender</code></p>\n<pre><code>mkdir ~/singularity\nsingularity exec ~/singularity/seqsender.sif seqsender-kickoff --help</code></pre>\n\"\"\"\n    ),\n    shiny_tools.seqsender_help_output_msg(\"Singularity\"),\n    ui.HTML(\n        \"\"\"\n<p>To see the arguments required for each command, for example, the <code>submit</code> command, run</p>\n<pre><code>singularity exec ~/singularity/seqsender.sif seqsender-kickoff submit --help</code></pre>\n\"\"\"\n    ),\n    shiny_tools.seqsender_submit_help_output_msg(\"Singularity\"),\n]\ninstallation_body = [\n    ui.h2(\"Installation\"),\n    ui.navset_tab(\n        ui.nav_panel(\"Local\", local_installation_content + gisaid_installation_content),\n        ui.nav_panel(\n            \"Docker\", docker_installation_content + gisaid_installation_content\n        ),\n        ui.nav_panel(\n            \"Singularity\",\n            singularity_installation_content + gisaid_installation_content,\n        ),\n        id=\"installation_tab\",\n    ),\n]\n\n\n####################### TEST SUBMISSIONS PAGE ##############################\nuser_data_content = (\n    [\n        ui.p(\"Content Panel A\"),\n    ],\n)\n\nexample_data_content = (\n    [\n        ui.br(),\n        ui.p(\"Access the example data by:\"),\n        ui.p(\n            \"First, use the \",\n            ui.code(\"prep\"),\n            \" command to generate all the necessary files for submission. This step is not required for submitting to databases, as this command is ran when running the \",\n            ui.code(\"submit\"),\n            \" command. However, it is helpful to test/debug your submission without submitting to a database and allows you to visualize all of the files generated for submission.\",\n        ),\n        shiny_tools.seqsender_example_command(\"local\", \"prep\", \"\"),\n        ui.p(\n            \"After you've validated that your data is being generated correctly using command \",\n            ui.code(\"prep\"),\n            \", you can now make a test submission to the database. Database submissions are made using the \",\n            ui.code(\"submit\"),\n            \" command, be sure to always include the flag \",\n            ui.code(\"--test\"),\n            \" when submitting test submissions.\",\n        ),\n        shiny_tools.seqsender_example_command(\"local\", \"submit\", \"--test\"),\n        ui.p(\n            \"Now that your submission has been made you can check its submission progress using the \",\n            ui.code(\"check_submission_status\"),\n            \" command.\",\n        ),\n    ],\n)\n\ntesting_body = [\n    ui.h2(\"Test Submissions\"),\n    ui.p(\n        \"Test submissions can be made with either the provided test files or your own data.\"\n    ),\n    ui.navset_tab(\n        ui.nav_panel(\"I have my own data\", user_data_content),\n        ui.nav_panel(\"I don't have my own data\", example_data_content),\n        id=\"testing_tab\",\n    ),\n]\n\n####################### COMMANDS PAGE ###################\n\ndatabases_parameter = [\n    ui.strong(\"Databases\"),\n    ui.tags.ul(\n        ui.tags.li(\n            ui.strong(\n                ui.code(\"--biosample\"),\n                \" | \",\n                ui.code(\"-b\"),\n            ),\n            ui.tags.ul(\n                \"  Generate files required for submission to \",\n                ui.strong(\"NCBI Database: BioSample\"),\n                \".\",\n                inline=True,\n            ),\n        ),\n        ui.tags.li(\n            ui.strong(\n                ui.code(\"--sra\"),\n                \" | \",\n                ui.code(\"-s\"),\n            ),\n            ui.tags.ul(\n                \"  Generate files required for submission to \",\n                ui.strong(\"NCBI Database: SRA\"),\n                \".\",\n                inline=True,\n            ),\n        ),\n        ui.tags.li(\n            ui.strong(\n                ui.code(\"--genbank\"),\n                \" | \",\n                ui.code(\"-n\"),\n            ),\n            ui.tags.ul(\n                \"  Generate files required for submission to \",\n                ui.strong(\"NCBI Database: GenBank\"),\n                \".\",\n                inline=True,\n            ),\n        ),\n        ui.tags.li(\n            ui.strong(\n                ui.code(\"--gisaid\"),\n                \" | \",\n                ui.code(\"-g\"),\n            ),\n            ui.tags.ul(\n                \"  Generate files required for submission to \",\n                ui.strong(\"GISAID\"),\n                \". Not available as an option when using the organism parameter \",\n                ui.code(\"OTHER\"),\n                \".\",\n                inline=True,\n            ),\n        ),\n    ),\n]\n\norganisms_parameter = [\n    ui.strong(\"Organism\"),\n    ui.div(\n        ui.strong(ui.code(\"--organism \"), \"{'FLU', 'COV', 'POX', 'ARBO', 'OTHER'}\"),\n        inline=True,\n    ),\n    ui.p(\n        \"Organism selection adjusts seqsender submission process for organism specific criteria.\"\n    ),\n    ui.tags.ul(\n        ui.tags.li(\n            ui.strong(\n                ui.code(\"FLU\"),\n            ),\n            ui.tags.ul(\n                \" For \",\n                ui.strong(\"Influenza A virus\"),\n                \", enables FTP GenBank submission and GISAID CLI submission.\",\n            ),\n        ),\n        ui.tags.li(\n            ui.strong(\n                ui.code(\"COV\"),\n            ),\n            ui.tags.ul(\n                \" For \",\n                ui.strong(\"SARS-CoV-2\"),\n                \", enables FTP GenBank submission and GISAID CLI submission.\",\n            ),\n        ),\n        ui.tags.li(\n            ui.strong(\n                ui.code(\"POX\"),\n            ),\n            ui.tags.ul(\n                \" For \",\n                ui.strong(\"Mpox\"),\n                \" (monkeypox), enables GISAID CLI submission.\",\n            ),\n        ),\n        ui.tags.li(\n            ui.strong(\n                ui.code(\"ARBO\"),\n            ),\n            ui.tags.ul(\n                \" For \", ui.strong(\"Arbovirus\"), \", enables GISAID CLI submission.\"\n            ),\n        ),\n        ui.tags.li(\n            ui.strong(\n                ui.code(\"OTHER\"),\n            ),\n            ui.tags.ul(\n                \" For any organism that does not have special submission options.\"\n            ),\n        ),\n    ),\n]\n\nsubmission_directory_parameter = ui.div(\n    ui.strong(ui.code(\"--submission_dir\")),\n    ui.tags.ul(\"Directory where all files required for submission are stored.\"),\n)\n\nsubmission_name_parameter = ui.div(\n    ui.strong(ui.code(\"--submission_name\")),\n    ui.tags.ul(\"Unique name to use for submission. Used as a unique identifier for submission to databases and to name the files created for submission.\"),\n)\n\nconfig_parameter = ui.div(\n    ui.strong(ui.code(\"--config_file\")),\n    ui.tags.ul(\"Full path to config file if not stored in \", ui.code(\"--submission_dir\"), \" location.\"),\n)\n\nmetadata_parameter = ui.div(\n    ui.strong(ui.code(\"--metadata_file\")),\n    ui.tags.ul(\"Full path to metadata file if not stored in \", ui.code(\"--submission_dir\"), \" location.\"),\n)\n\nfasta_parameter = ui.div(\n    ui.strong(ui.code(\"--fasta_file\")),\n    ui.tags.ul(\"Full path to fasta file if not stored in \", ui.code(\"--submission_dir\"), \" location.\"),\n)\n\ngff_parameter = ui.div(\n    ui.strong(ui.code(\"--gff_file\")),\n    ui.tags.ul(\"Full path to gff file if not stored in \", ui.code(\"--submission_dir\"), \" location.\"),\n)\n\ntest_parameter = ui.div(\n    ui.strong(ui.code(\"--test\")),\n    ui.tags.ul(\"Flag to enable a \\\"test\\\" submission to each database selected.\"),\n)\n\ncommands_body = [\n    ui.h2(\"SeqSender Commands\"),\n    ui.p(\n        \"This is a list of all available commands for seqsender, usage, and available options.\"\n    ),\n    ui.accordion(\n        ui.accordion_panel(\n            \"Prep\",\n            ui.p(\n                \"The \",\n                ui.code(\"prep\"),\n                \" command is used to generate all of the required files for submission to the databases specified. This command is not required for performing submissions, however, it is useful for visualizing your data before submission/troubleshooting submission issues.\",\n            ),\n            shiny_tools.seqsender_example_command(\"local\", \"prep\", \"\"),\n            ui.accordion(\n                ui.accordion_panel(\n                    \"Parameters\",\n                    databases_parameter,\n                    organisms_parameter,\n                    submission_directory_parameter,\n                    submission_name_parameter,\n                    config_parameter,\n                    metadata_parameter,\n                    fasta_parameter,\n                    gff_parameter,\n                    test_parameter,\n                ),\n                ui.accordion_panel(\n                    \"Notes\"\n                ),\n                ui.accordion_panel(\n                    \"Examples\"\n                ),\n                open=[\"Parameters\", \"Notes\"],\n            ),\n        ),\n    ),\n]\n\n###################### FAQ PAGE ##########################\n\nfaq_body = [\n    ui.h2(\"Frequently Asked Questions:\"),\n]\n\n######################## APP UI ##########################\n\napp_ui = ui.page_fluid(\n    theme.lumen(),\n    ui.head_content(ui.include_css(pathlib.Path(__file__).parent / \"seqsender.css\")),\n    ui.page_navbar(\n        ui.nav_panel(\"SeqSender\", index_body),\n        ui.nav_panel(\"Prerequisites\", prerequisites_body),\n        ui.nav_panel(\"Installation\", installation_body),\n        ui.nav_panel(\"Setup\", setup_body),\n        ui.nav_panel(\"First Submission\", testing_body),\n        ui.nav_panel(\"Commands\", commands_body),\n        ui.nav_panel(\"FAQ\", faq_body),\n        selected=\"SeqSender\",\n        header=header,\n        footer=footer,\n    ),\n)\n\n####################### SERVER #########################\nimport pathlib\n\ndir = pathlib.Path(__file__).parent\n\n\n@reactive.file_reader(dir / \"templates/config.seqsender.schema_template.csv\")\ndef read_file():\n    df = pd.read_csv(dir / \"templates/config.seqsender.schema_template.csv\", index_col = \"column_name\")\n    df = df.fillna(\"\")\n    df = df.transpose()\n    return df\n\n@reactive.file_reader(dir / \"templates/config.biosample.Pathogen.cl.1.0_template.csv\")\ndef read_biosample_file():\n    df = pd.read_csv(dir / \"templates/config.biosample.Pathogen.cl.1.0_template.csv\", index_col = \"column_name\")\n    df = df.fillna(\"\")\n    df = df.transpose()\n    return df\n\n@reactive.file_reader(dir / \"templates/config.sra.schema_template.csv\")\ndef read_sra_file():\n    df = pd.read_csv(dir / \"templates/config.sra.schema_template.csv\", index_col = \"column_name\")\n    df = df.fillna(\"\")\n    df = df.transpose()\n    return df\n\n@reactive.file_reader(dir / \"templates/config.genbank.genbank.schema_template.csv\")\ndef read_genbank_file():\n    df = pd.read_csv(dir / \"templates/config.genbank.genbank.schema_template.csv\", index_col = \"column_name\")\n    df = df.fillna(\"\")\n    df = df.transpose()\n    return df\n\n@reactive.file_reader(dir / \"templates/config.gisaid.gisaid.FLU.schema_template.csv\")\ndef read_gisaid_file():\n    df = pd.read_csv(dir / \"templates/config.gisaid.gisaid.FLU.schema_template.csv\", index_col = \"column_name\")\n    df = df.fillna(\"\")\n    df = df.transpose()\n    return df\n\n\n# Function to style metadata shiny index\ndef metadata_index_css(index):\n    return \"background-color: #f0f0f0;\"\n\n\n# Function to style metadata shiny column headers\ndef metadata_database_css(column):\n    if \"gb-\" in column:\n        # Set color of GenBank table\n        return \"background-color: #cce6ff;\"\n    elif column.startswith(\"gs-\"):\n        # Set color of GISAID table\n        return \"background-color: #deede8;\"\n    elif column.startswith(\"bs-\"):\n        # Set color of BioSample table\n        return \"background-color: #ffffb3;\"\n    elif column.startswith(\"sra-\"):\n        # Set color of SRA table\n        return \"background-color: #ffcce6;\"\n    else:\n        return \"background-color: #dcdcdc;\"\n\n\ndef server(input, output, session):\n    @render.text\n    def BioSample_Package_Name():\n        return input.BioSample_packages()\n\n    @reactive.effect\n    @reactive.event(input.ncbi_submission_position)\n    def gisaid_submission_position():\n        if \"First\" in input.ncbi_submission_position():\n            value = \"Second\"\n        else:\n            value = \"First\"\n        with reactive.isolate():\n            ui.update_radio_buttons(\n                \"gisaid_submission_position\",\n                selected=value,\n            )\n\n    @reactive.effect\n    @reactive.event(input.gisaid_submission_position)\n    def ncbi_submission_position():\n        if \"First\" in input.gisaid_submission_position():\n            value = \"Second\"\n        else:\n            value = \"First\"\n        with reactive.isolate():\n            ui.update_radio_buttons(\n                \"ncbi_submission_position\",\n                selected=value,\n            )\n\n    @reactive.Calc\n    def initialize_base_dataframe():\n        return read_file()\n\n    @reactive.Calc\n    def initialize_biosample_dataframes():\n        return read_biosample_file()\n\n    @reactive.Calc\n    def initialize_sra_dataframes():\n        return read_sra_file()\n\n    @reactive.Calc\n    def initialize_genbank_dataframes():\n        return read_genbank_file()\n\n    @reactive.Calc\n    def initialize_gisaid_dataframes():\n        return read_gisaid_file()\n\n    @output\n    @render.table\n    @reactive.Calc\n    def load_database_metadata_dataframe():\n        database_df = initialize_base_dataframe()\n        if input.BioSample_checkbox():\n            biosample_df = initialize_biosample_dataframes()\n            database_df = pd.concat([database_df, biosample_df], axis=1)\n        if input.SRA_checkbox():\n            sra_df = initialize_sra_dataframes()\n            database_df = pd.concat([database_df, sra_df], axis=1)\n        if input.GenBank_checkbox():\n            genbank_df = initialize_genbank_dataframes()\n            database_df = pd.concat([database_df, genbank_df], axis=1)\n        if input.GISAID_checkbox():\n            gisaid_df = initialize_gisaid_dataframes()\n            database_df = pd.concat([database_df, gisaid_df], axis=1)\n        database_df = (\n            database_df.style.set_table_styles(\n                [\n                    dict(\n                        selector=\"th\", props=[(\"border\", \"3px black solid !important\")]\n                    ),\n                    dict(selector=\"ti\", props=[(\"background-color\", \"#DCDCDC\")]),\n                    dict(\n                        selector=\"td\", props=[(\"border\", \"1px black solid !important\")]\n                    ),\n                ]\n            )\n            .applymap_index(metadata_database_css, axis=\"columns\")\n            .applymap_index(metadata_index_css, axis=\"index\")\n        )\n        return database_df\n\n    @reactive.Calc\n    @render.download(filename=\"metadata_template.csv\")\n    def download_metadata():\n        database_df = initialize_base_dataframe()\n        if input.BioSample_checkbox():\n            biosample_df = initialize_biosample_dataframes()\n            database_df = pd.concat([database_df, biosample_df], axis=1)\n        if input.SRA_checkbox():\n            sra_df = initialize_sra_dataframes()\n            database_df = pd.concat([database_df, sra_df], axis=1)\n        if input.GenBank_checkbox():\n            genbank_df = initialize_genbank_dataframes()\n            database_df = pd.concat([database_df, genbank_df], axis=1)\n        if input.GISAID_checkbox():\n            gisaid_df = initialize_gisaid_dataframes()\n            database_df = pd.concat([database_df, gisaid_df], axis=1)\n        yield database_df.to_csv()\n\n\napp = App(app_ui, server)\n", "type": "text"}, {"name": "index.py", "content": "from shiny import App, Inputs, Outputs, Session, render, req, ui, reactive\nfrom htmltools import TagList, div\n\n################## INDEX PAGE #######################\nindex_body = [\n    ui.HTML(\n        \"\"\"\n<h2>Overview</h2>\n<p><code>seqsender</code> is a Python program that is developed to automate the process of generating necessary submission files and batch uploading them to <ins>NCBI archives</ins> (such as <strong>BioSample</strong>, <strong>SRA</strong>, and <strong>Genbank</strong>) and <ins>GISAID databases</ins> (e.g.\u00a0<strong>EpiFlu</strong> and <strong>EpiCoV</strong>). Presently, the pipeline is capable of uploading <strong>Influenza A Virus</strong> (FLU) and <strong>SARS-COV-2</strong> (COV) data. However, the dynamic nature of this pipeline can allow for additional uploads of other organisms in future updates or requests.</p>\n<h2>Public Domain Standard Notice</h2>\n<p>This repository constitutes a work of the United States Government and is not subject to domestic copyright protection under 17 USC \u00a7 105. This repository is in the public domain within the United States, and copyright and related rights in the work worldwide are waived through the <a href=\"https://creativecommons.org/publicdomain/zero/1.0/\">CC0 1.0 Universal public domain dedication</a>. All contributions to this repository will be released under the CC0 dedication. By submitting a pull request you are agreeing to comply with this waiver of copyright interest.</p>\n<h2>License Standard Notice</h2>\n<p>The repository utilizes code licensed under the terms of the Apache Software License and therefore is licensed under ASL v2 or later.</p>\n<p>This source code in this repository is free: you can redistribute it and/or modify it under the terms of the Apache Software License version 2, or (at your option) any later version.</p>\n<p>This source code in this repository is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY, without even the implied warranty of MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. See the Apache Software License for more details.</p>\n<p>You should have received a copy of the Apache Software License along with this program. If not, see <a href=\"http://www.apache.org/licenses/LICENSE-2.0.html\">http://www.apache.org/licenses/LICENSE-2.0.html</a></p>\n<p>The source code forked from other open source projects will inherit its license.</p>\n<h2 id=\"privacy-standard-notice\">Privacy Standard Notice<a href=\"#privacy-standard-notice\"></a>\n</h2>\n<p>This repository contains only non-sensitive, publicly available data and information. All material and community participation is covered by the <a href=\"https://github.com/CDCgov/template/blob/master/DISCLAIMER.md\">Disclaimer</a> and <a href=\"https://github.com/CDCgov/template/blob/master/code-of-conduct.md\">Code of Conduct</a>. For more information about CDC\u2019s privacy policy, please visit <a href=\"https://www.cdc.gov/other/privacy.html\">http://www.cdc.gov/other/privacy.html</a>.</p>\n<h2 id=\"contributing-standard-notice\">Contributing Standard Notice<a href=\"#contributing-standard-notice\"></a>\n</h2>\n<p>Anyone is encouraged to contribute to the repository by <a href=\"https://help.github.com/articles/fork-a-repo\">forking</a> and submitting a pull request. (If you are new to GitHub, you might start with a <a href=\"https://help.github.com/articles/set-up-git\">basic tutorial</a>.) By contributing to this project, you grant a world-wide, royalty-free, perpetual, irrevocable, non-exclusive, transferable license to all users under the terms of the <a href=\"http://www.apache.org/licenses/LICENSE-2.0.html\">Apache Software License v2</a> or later.</p>\n<p>All comments, messages, pull requests, and other submissions received through CDC including this GitHub page may be subject to applicable federal law, including but not limited to the Federal Records Act, and may be archived. Learn more at <a href=\"http://www.cdc.gov/other/privacy.html\">http://www.cdc.gov/other/privacy.html</a>.</p>\n<h2 id=\"records-management-standard-notice\">Records Management Standard Notice<a href=\"#records-management-standard-notice\"></a>\n</h2>\n<p>This repository is not a source of government records, but is a copy to increase collaboration and collaborative potential. All government records will be published through the <a href=\"http://www.cdc.gov\">CDC web site</a>.</p>\n<h2 id=\"additional-standard-notices\">Additional Standard Notices<a href=\"#additional-standard-notices\"></a>\n</h2>\n<p>Please refer to <a href=\"https://github.com/CDCgov/template\">CDC\u2019s Template Repository</a> for more information about <a href=\"https://github.com/CDCgov/template/blob/master/CONTRIBUTING.md\">contributing to this repository</a>, <a href=\"https://github.com/CDCgov/template/blob/master/DISCLAIMER.md\">public domain notices and disclaimers</a>, and <a href=\"https://github.com/CDCgov/template/blob/master/code-of-conduct.md\">code of conduct</a>.</p>\n\"\"\"\n    ),\n]\n", "type": "text"}, {"name": "seqsender.css", "content": ".custom_sidebar, .accordion-title, h1, h2, h3, h4, h5, h6 {\n    font-weight: 600;\n    background-image: radial-gradient(circle, #023382,  #0359e2);\n    color: transparent;\n    background-clip: text;\n    -webkit-background-clip: text;\n}\nhr {\n    border: 2px solid black;\n}\n.custom_header {\n    border-bottom: 2px solid DimGray;\n    padding-bottom: 2px;\n}\n.custom_sidebar {\n    text-decoration: none;\n    font-size: large;\n    padding: 5px;\n}\n.terminal_css {}\n", "type": "text"}, {"name": "setup.py", "content": "from shiny import App, Inputs, Outputs, Session, render, req, ui, reactive\nfrom htmltools import TagList, div\n####################### SETUP PAGE ###############################\nyaml_css = \"background-color: #F0F0F0;white-space: nowrap; font-size: 20px ;margin-top:-15px;font-family: Consolas,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New, monospace;-webkit-user-select: none; -ms-user-select: none; user-select: none;\"\n\nsetup_body = [\n    ui.h2(\"Setup\"),\n    ui.layout_columns(\n        ui.card(\n            ui.card_header(\n                ui.h4(\"Select Database:\", style=\"display:inline-block;\"),\n                ui.tooltip(\n                    ui.p(\"\u2753\"),\n                    \"Additional info\",\n                    id=\"select_database_tooltip\",\n                    style=\"display:inline-block;float:right;\",\n                ),\n            ),\n            ui.input_checkbox(\n                \"BioSample_checkbox\", \"BioSample\", width=None, value=True\n            ),\n            ui.input_checkbox(\"SRA_checkbox\", \"SRA\", width=None),\n            ui.input_checkbox(\"GenBank_checkbox\", \"GenBank\", width=None),\n            ui.input_checkbox(\"GISAID_checkbox\", \"GISAID\", width=None, value=True),\n        ),\n        ui.card(\n            ui.card_header(\n                ui.h3(\"Database Options:\", style=\"display:inline-block;\"),\n                ui.tooltip(\n                    ui.p(\"\u2753\"),\n                    \"Additional info\",\n                    id=\"database_options_tooltip\",\n                    style=\"display:inline-block;float:right;\",\n                ),\n            ),\n            # If BioSample checkbox checked then load BioSample Package Options\n            ui.panel_conditional(\n                \"input.BioSample_checkbox\",\n                ui.input_select(\n                    \"BioSample_packages\",\n                    label=\"Select BioSample Package:\",\n                    choices=[\"SARS\", \"PATHOGEN\"],\n                    selected=\"SARS\",\n                ),\n            ),\n            # If GenBank checkbox checked then load Genbank Schema Options\n            ui.panel_conditional(\n                \"input.GenBank_checkbox\",\n                ui.input_select(\n                    \"GenBank_schemas\",\n                    label=\"Select GenBank Schema:\",\n                    choices=[\"COV\", \"FLU\", \"OTHER\"],\n                ),\n            ),\n            # If GISAID checkbox checked then load GISAID Database Options\n            ui.panel_conditional(\n                \"input.GISAID_checkbox\",\n                ui.input_select(\n                    \"GISAID_databases\",\n                    label=\"Select GISAID Database:\",\n                    choices=[\"COV\", \"FLU\", \"OTHER\"],\n                ),\n            ),\n        ),\n    ),\n    # Based on choices display config and metadata template\n    ui.panel_conditional(\n        \"input.BioSample_checkbox || input.SRA_checkbox || input.GenBank_checkbox || input.GISAID_checkbox\",\n        ui.card(\n            ui.card_header(\n                ui.h4(\"Create Config File:\", style=\"display:inline-block;\"),\n                ui.tooltip(\n                    ui.p(\"\u2753\"),\n                    \"Additional info\",\n                    id=\"config_tooltip\",\n                    style=\"display:inline-block;float:right;\",\n                ),\n            ),\n            ui.card(\n                ui.page_fluid(\n                    div(ui.HTML(\"Submission:\"), style=\"margin-top:-20px\"),\n                    ui.panel_conditional(\n                        \"input.BioSample_checkbox || input.SRA_checkbox || input.GenBank_checkbox\",\n                        div(ui.HTML(\"&nbsp;|&nbsp;NCBI:\")),\n                        div(\n                            ui.HTML(\"&nbsp;|&nbsp;&nbsp;|&nbsp;Username:\"),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"ncbi_config_username\",\n                                label=None,\n                                placeholder=\"NCBI FTP Username\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\"&nbsp;|&nbsp;&nbsp;|&nbsp;Password:\"),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_password(\n                                \"ncbi_config_password\",\n                                label=None,\n                                placeholder=\"NCBI FTP Password\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\"&nbsp;|&nbsp;&nbsp;|&nbsp;BioSample_Package:\"),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.output_text(\n                                \"BioSample_Package_Name\",\n                                inline=True,\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\"&nbsp;|&nbsp;&nbsp;|&nbsp;Submission_Position:\"),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_radio_buttons(\n                                \"ncbi_submission_position\",\n                                label=None,\n                                choices=[\"First\", \"Second\"],\n                                inline=True,\n                            ),\n                            style=\"display:inline-block;height:5px;font-size:medium;\",\n                        ),\n                        div(ui.HTML(\"&nbsp;|&nbsp;&nbsp;|&nbsp;Description:\")),\n                        div(\n                            ui.HTML(\"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;Title:\"),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"ncbi_config_title\",\n                                label=None,\n                                placeholder=\"Submission Title\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;Comment:\"),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"ncbi_config_comment\",\n                                label=None,\n                                placeholder=\"Submission Comment\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\n                                \"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;Organization:\"\n                            )\n                        ),\n                        div(\n                            ui.HTML(\n                                \"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;@role:\"\n                            ),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"ncbi_config_role\",\n                                label=None,\n                                placeholder=\"Organization Role\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\n                                \"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;@type:\"\n                            ),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"ncbi_config_type\",\n                                label=None,\n                                placeholder=\"Organization Type\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\n                                \"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;Name:\"\n                            ),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"ncbi_config_org_name\",\n                                label=None,\n                                placeholder=\"Organization Name\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\n                                \"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;Address:\"\n                            )\n                        ),\n                        div(\n                            ui.HTML(\n                                \"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;Affil:\"\n                            ),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"ncbi_config_affil\",\n                                label=None,\n                                placeholder=\"Affiliation\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\n                                \"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;Div:\"\n                            ),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"ncbi_config_div\", label=None, placeholder=\"Division\"\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\n                                \"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;Street:\"\n                            ),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"ncbi_config_street\",\n                                label=None,\n                                placeholder=\"Organization Street Name\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\n                                \"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;City:\"\n                            ),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"ncbi_config_city\",\n                                label=None,\n                                placeholder=\"Organization City\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\n                                \"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;Sub:\"\n                            ),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"ncbi_config_state\",\n                                label=None,\n                                placeholder=\"Organization State/Providence\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\n                                \"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;Postal_code:\"\n                            ),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"ncbi_config_postal\",\n                                label=None,\n                                placeholder=\"Organization Postal Code\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\n                                \"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;Country:\"\n                            ),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"ncbi_config_country\",\n                                label=None,\n                                placeholder=\"Organization Country\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\n                                \"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;Email:\"\n                            ),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"ncbi_config_email\",\n                                label=None,\n                                placeholder=\"Organization Contact Email\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\n                                \"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;Phone:\"\n                            ),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"ncbi_config_phone\",\n                                label=None,\n                                placeholder=\"Organization Contact Phone\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\n                                \"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;Submitter:\"\n                            )\n                        ),\n                        div(\n                            ui.HTML(\n                                \"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;@email:\"\n                            ),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"ncbi_config_sub_email1\",\n                                label=None,\n                                placeholder=\"Submitter Contact Email\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\n                                \"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;@alt_email:\"\n                            ),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"ncbi_config_sub_email2\",\n                                label=None,\n                                placeholder=\"Alternate Submitter Contact Email\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\n                                \"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;Name:\"\n                            )\n                        ),\n                        div(\n                            ui.HTML(\n                                \"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;First:\"\n                            ),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"ncbi_config_first_name\",\n                                label=None,\n                                placeholder=\"Submitter First Name\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\n                                \"&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;Last:\"\n                            ),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"ncbi_config_last_name\",\n                                label=None,\n                                placeholder=\"Submitter Last Name\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                    ),\n                    ui.panel_conditional(\n                        \"input.GISAID_checkbox\",\n                        div(ui.HTML(\"&nbsp;|&nbsp;GISAID:<br>\")),\n                        div(\n                            ui.HTML(\"&nbsp;|&nbsp;&nbsp;|&nbsp;Client-Id:\"),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"gisaid_config_client\",\n                                label=None,\n                                placeholder=\"GISAID Client ID\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\"&nbsp;|&nbsp;&nbsp;|&nbsp;Username:\"),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"gisaid_config_username\",\n                                label=None,\n                                placeholder=\"GISAID Username\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\"&nbsp;|&nbsp;&nbsp;|&nbsp;Password:\"),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_text(\n                                \"gisaid_config_password\",\n                                label=None,\n                                placeholder=\"GISAID Password\",\n                            ),\n                            style=\"display:inline-block;height:5px;\",\n                        ),\n                        div(ui.HTML(\"<br>\"), style=\"margin-top:-25px;\"),\n                        div(\n                            ui.HTML(\"&nbsp;|&nbsp;&nbsp;|&nbsp;Submission_Position:\"),\n                            style=\"display:inline-block;\",\n                        ),\n                        div(\n                            ui.input_radio_buttons(\n                                \"gisaid_submission_position\",\n                                label=None,\n                                choices=[\"First\", \"Second\"],\n                                inline=True,\n                                selected=\"Second\",\n                            ),\n                            style=\"display:inline-block;height:5px;font-size:medium;\",\n                        ),\n                    ),\n                ),\n                style=yaml_css,\n            ),\n            ui.download_button(\"download_config\", \"Download Config File\"),\n        ),\n        ui.card(\n            ui.card_header(\n                ui.h4(\"Metadata Template:\", style=\"display:inline-block;\"),\n                ui.tooltip(\n                    ui.p(\"\u2753\"),\n                    \"Additional info\",\n                    id=\"metadata_tooltip\",\n                    style=\"display:inline-block;float:right;\",\n                ),\n            ),\n            ui.HTML(\n                \"<p><strong>Note:</strong> More columns may be available not displayed in this list. To add a column not here during submission, add it matching the style of the other columns related to the database: <code>database_prefix-column_name</code>.\"\n            ),\n            ui.output_table(\"load_database_metadata_dataframe\"),\n            ui.HTML(\n                \"\"\"\n<h8>Metadata Sections Legend:</h8>\n<p><span style=\"color:#696969\"> SeqSender: No prefix</span> | <span style=\"color:#b3b300\">BioSample: bs-</span> | <span style=\"color:#b3005c\">SRA: sra-</span> | <span style=\"color:#005cb3\">GenBank: gb-</span> | <span style=\"color:#3f7362\">GISAID: gs-</span></p>\n\"\"\"\n            ),\n            ui.download_button(\"download_metadata\", \"Download Metadata Template\"),\n        ),\n    ),\n]\n", "type": "text"}, {"name": "shiny_tools.py", "content": "from shiny import App, Inputs, Outputs, Session, render, req, ui, reactive\nfrom htmltools import TagList, div\n\n\nterminal_css = \"\"\n\ndef software_requirements(version):\n    requirements = \"\"\"<br>\n<p><strong>SOFTWARE REQUIREMENTS:</strong></p>\n<ul>\n<li>Linux (64-bit) or Mac OS X (64-bit)</li>\n<li>Git version 2.25.1 or later</li>\n<li>Standard utilities: curl, tar, unzip</li>\n\"\"\"\n    if version == \"Local\":\n        return ui.HTML(requirements + \"\"\"</ul>\"\"\")\n    elif version == \"Docker\":\n        return ui.HTML(\n            requirements\n            + \"\"\"\n<li>Docker version 20.10.14 or later</li>\n<li>[Optional] Docker Compose version 2.21 or later</li>\n</ul>\n\"\"\"\n        )\n    elif version == \"Singularity\":\n        return ui.HTML(\n            requirements\n            + \"\"\"\n<li>Singularity version 3.8.7 or later</li>\n</ul>\n\"\"\"\n        )\n    else:\n        return \"\"\n\ndef seqsender_help_output_msg(version):\n    message = \"\"\"\nusage: seqsender.py [-h] {prep,submit,check_submission_status,template,update_biosample,version} ...</p>\n<p>Automate the process of batch uploading consensus sequences and metadata to databases of your choices</p>\n<p>positional arguments:<br>\n&nbsp;|&nbsp;{prep,submit,check_submission_status,template,update_biosample,version}</p>\n<p>optional arguments:<br>\n&nbsp;|&nbsp;-h, --help&nbsp;|&nbsp;&nbsp;show this help message and exit</p>\n\"\"\"\n    if version == \"Local\":\n        command = (\n            \"\"\"<p>(seqsender) [USER@server seqsender]$ python seqsender.py --help<br>\"\"\"\n        )\n    elif version == \"Docker\":\n        command = \"\"\"<p>docker exec -it seqsender bash seqsender-kickoff --help<br>\"\"\"\n    elif version == \"Singularity\":\n        command = \"\"\"<p>singularity exec ~/singularity/seqsender.sif seqsender-kickoff --help<br>\"\"\"\n    else:\n        command = \"\"\"<p>\"\"\"\n    return ui.card(ui.HTML(command + message), style=terminal_css)\n\n\ndef seqsender_submit_help_output_msg(version):\n    message = \"\"\"\nusage: seqsender.py submit [-h] [--biosample] [--sra] [--genbank] [--gisaid] --organism {FLU,COV,POX,ARBO,OTHER}\n--submission_name SUBMISSION_NAME --submission_dir SUBMISSION_DIR --config_file CONFIG_FILE --metadata_file METADATA_FILE\n--fasta_file FASTA_FILE [--table2asn] [--gff_file GFF_FILE] [--test]</p>\n<p>Create submission files and then batch uploading them to databases of choices.</p>\n<p>optional arguments:<br>\n&nbsp;-h, --help &nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;\nshow this help message and exit<br>\n&nbsp;--biosample, -b &nbsp;|&nbsp;&nbsp;|&nbsp;\nSubmit to BioSample database. (default: )<br>\n&nbsp;--sra, -s &nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;\nSubmit to SRA database. (default: )<br>\n&nbsp;--genbank, -n &nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;\nSubmit to Genbank database. (default: )<br>\n&nbsp;--gisaid, -g &nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;\nSubmit to GISAID database. (default: )<br>\n&nbsp;--organism {FLU,COV,POX,ARBO,OTHER} <br>&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;\nType of organism data (default: FLU)<br>\n&nbsp;--submission_name SUBMISSION_NAME <br>&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;\nName of the submission (default: None)<br>\n&nbsp;--submission_dir SUBMISSION_DIR  <br>&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;\nDirectory to where all required files (such as metadata, fasta, etc.) are stored (default: None)<br>\n&nbsp;--config_file CONFIG_FILE  <br>&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;\nConfig file stored in submission directory (default: None)<br>\n&nbsp;--metadata_file METADATA_FILE  <br>&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;\nMetadata file stored in submission directory (default: None)<br>\n&nbsp;--fasta_file FASTA_FILE  <br>&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;\nFasta file stored in submission directory (default: None)<br>\n&nbsp;--table2asn &nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;\nWhether to prepare a Table2asn submission. (default: False)<br>\n&nbsp;--gff_file GFF_FILE &nbsp;\nAn annotation file to add to a Table2asn submission (default: None)<br>\n&nbsp;--test &nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;\nWhether to perform a test submission. (default: False)<br>\n\"\"\"\n    if version == \"Local\":\n        command = \"\"\"<p>(seqsender) [USER@server seqsender]$ python seqsender.py submit --help<br>\"\"\"\n    elif version == \"Docker\":\n        command = (\n            \"\"\"<p>docker exec -it seqsender bash seqsender-kickoff submit --help<br>\"\"\"\n        )\n    elif version == \"Singularity\":\n        command = \"\"\"<p>singularity exec ~/singularity/seqsender.sif seqsender-kickoff submit --help<br>\"\"\"\n    else:\n        command = \"\"\"\"\"\"\n    return ui.card(ui.HTML(command + message), style=terminal_css)\n\n\ndef seqsender_example_command(platform, command, flags):\n    # Platform specific layout\n    message = \"<pre><code>\"\n    if platform == \"local\":\n        message += \"python seqsender.py \"\n    elif platform == \"docker\":\n        message += \"docker exec -it seqsender bash seqsender-kickoff \"\n    elif platform == \"singularity\":\n        message += \"singularity exec ~/singularity/seqsender.sif seqsender-kickoff \"\n    else:\n        message += \"\"\n    # Seqsender command\n    message += command\n    ### Add parameters\n    # Add databases parameter\n    if command in [\"prep\", \"submit\", \"test_data\"]:\n        message += \" [&lt;databases&gt;]\"\n    # Add organisms parameter\n    if command in [\"prep\", \"submit\", \"test_data\"]:\n        message += \" [--organism &lt;organism&gt;]\"\n    # Add submission_dir parameter\n    if command in [\"prep\", \"submit\", \"test_data\"]:\n        message += \" [--submission_dir &lt;directory_path&gt;]\"\n    # Add submission_name parameter\n    if command in [\"prep\", \"submit\"]:\n        message += \" [--submission_name &lt;name&gt;]\"\n    # Add config_file parameter\n    if command in [\"prep\", \"submit\"]:\n        message += \" [--config_file &lt;config_file_path&gt;]\"\n    # Add metadata_file parameter\n    if command in [\"prep\", \"submit\"]:\n        message += \" [--metadata_file &lt;metadata_file_path&gt;]\"\n    # Add fasta_file parameter\n    if command in [\"prep\", \"submit\"]:\n        message += \" [--fasta_file &lt;fasta_file_path&gt;]\"\n    # Add gff_file parameter\n    if command in [\"prep\", \"submit\"]:\n        message += \" [--gff_file &lt;gff_file_path&gt;]\"\n    # Add test parameter\n    if command in [\"prep\", \"submit\"]:\n        message += \" [--test]\"\n    message += \"</pre></code>\"\n    return ui.HTML(message)\n", "type": "text"}, {"name": "templates/config.biosample.Pathogen.cl.1.0_template.csv", "content": "column_name,required_column,description\nbs-sample_name,Required,Identifier name used for BioSample. Max length is 50 characters.\nbs-strain,\"At least one field required. Group: At least one required: Group \"\"Organism\",\"At least one required: Group \"\"Organism\"\". microbial or eukaryotic strain name\"\nbs-isolate,\"At least one field required. Group: At least one required: Group \"\"Organism\",\"At least one required: Group \"\"Organism\"\". identification or description of the specific individual from which this sample was obtained\"\nbs-collected_by,Required,Name of persons or institute who collected the sample\nbs-geo_loc_name,Required,\"Geographical origin of the sample; use the appropriate name from this list http://www.insdc.org/documents/country-qualifier-vocabulary. Use a colon to separate the country or ocean from more detailed information about the location, eg \"\"Canada: Vancouver\"\" or \"\"Germany: halfway down Zugspitze, Alps\"\"\"\nbs-host,Required,\"The natural (as opposed to laboratory) host to the organism from which the sample was obtained. Use the full taxonomic name, eg, \"\"Homo sapiens\"\".\"\nbs-host_disease,Required,\"Name of relevant disease, e.g. Salmonella gastroenteritis. Controlled vocabulary, http://bioportal.bioontology.org/ontologies/1009 or http://www.ncbi.nlm.nih.gov/mesh\"\nbs-isolation_source,Required,\"Describes the physical, environmental and/or local geographical source of the biological sample from which the sample was derived.\"\nbs-lat_lon,Required,\"The geographical coordinates of the location where the sample was collected. Specify as degrees latitude and longitude in format \"\"d[d.dddd] N|S d[dd.dddd] W|E\"\", eg, 38.98 N 77.11 W\"\nbs-culture_collection,Optional,\"Name of source institute and unique culture identifier. See the description for the proper format and list of allowed institutes, http://www.insdc.org/controlled-vocabulary-culturecollection-qualifier\"\nbs-genotype,Optional,observed genotype\nbs-host_age,Optional,Age of host at the time of sampling\nbs-host_description,Optional,Additional information not included in other defined vocabulary fields\nbs-host_disease_outcome,Optional,\"Final outcome of disease, e.g., death, chronic disease, recovery\"\nbs-host_disease_stage,Optional,Stage of disease at the time of sampling\nbs-host_health_state,Optional,Information regarding health state of the individual sampled at the time of sampling\nbs-host_sex,Optional,Gender or physical sex of the host\nbs-host_subject_id,Optional,\"a unique identifier by which each subject can be referred to, de-identified, e.g. #131\"\nbs-host_tissue_sampled,Optional,\"name of body site where the sample was obtained from, such as a specific organ or tissue, e.g., tongue, lung. For foundational model of anatomy ontology (fma) (v 4.11.0) or Uber-anatomy ontology (UBERON) (v releases/2014-06-15) terms, please see http://purl.bioontology.org/ontology/FMA or http://purl.bioontology.org/ontology/UBERON\"\nbs-passage_history,Optional,Number of passages and passage method\nbs-pathotype,Optional,\"Some bacterial specific pathotypes (example Eschericia coli - STEC, UPEC)\"\nbs-serotype,Optional,\"Taxonomy below subspecies; a variety (in bacteria, fungi or virus) usually based on its antigenic properties. Same as serovar and serogroup. e.g. serotype=\"\"H1N1\"\" in Influenza A virus CY098518.\"\nbs-serovar,Optional,\"Taxonomy below subspecies; a variety (in bacteria, fungi or virus) usually based on its antigenic properties. Same as serovar and serotype. Sometimes used as species identifier in bacteria with shaky taxonomy, e.g. Leptospira, serovar saopaolo S76607 (65357 in Entrez).\"\nbs-specimen_voucher,Optional,\"Identifier for the physical specimen. Use format: \"\"[<institution-code>:[<collection-code>:]]<specimen_id>\"\", eg, \"\"UAM:Mamm:52179\"\". Intended as a reference to the physical specimen that remains after it was analyzed. If the specimen was destroyed in the process of analysis, electronic images (e-vouchers) are an adequate substitute for a physical voucher specimen. Ideally the specimens will be deposited in a curated museum, herbarium, or frozen tissue collection, but often they will remain in a personal or laboratory collection for some time before they are deposited in a curated collection. There are three forms of specimen_voucher qualifiers. If the text of the qualifier includes one or more colons it is a 'structured voucher'. Structured vouchers include institution-codes (and optional collection-codes) taken from a controlled vocabulary maintained by the INSDC that denotes the museum or herbarium collection where the specimen resides, please visit: http://www.insdc.org/controlled-vocabulary-specimenvoucher-qualifier.\"\nbs-subgroup,Optional,Taxonomy below subspecies; sometimes used in viruses to denote subgroups taken from a single isolate.\nbs-subtype,Optional,\"Used as classifier in viruses (e.g. HIV type 1, Group M, Subtype A).\"\n", "type": "text"}, {"name": "templates/config.genbank.genbank.schema_template.csv", "content": "column_name,required_column,description\nsequence_name,Required,Sequence identifier used in fasta file. This is used to create the fasta file for Genbank and/or GISAID.\ngb-sample_name,Required,\"Identifier name used for GenBank. Max length is 50 characters. Fasta modifiers with brackets \"\"[]\"\" can be added. They will be added only to the fasta file.\"\ngb-subm_lab,Required,\"Full name of organization, institute, or laboratory, etc., who is submitting this record.\"\ngb-subm_lab_division,Required,\"The division of organization, institute, or laboratory, etc., who is submitting this record.\"\ngb-subm_lab_addr,Required,\"The address of organization, institute, or laboratory, etc., who is submitting this record.\"\ngb-publication_title,Optional,\"The title and relevant publication details (volume, issue, etc.) of a paper that discusses the submission. If left empty, the program will used the name of the submission as title.\"\ngb-publication_status,Optional,\"Options: \"\"unpublished\"\" or \"\"in-press\"\" or \"\"published\"\".\"\n", "type": "text"}, {"name": "templates/config.gisaid.gisaid.FLU.schema_template.csv", "content": "column_name,required_column,description\nsequence_name,Required,Sequence identifier used in fasta file. This is used to create the fasta file for Genbank and/or GISAID.\ngs-sample_name,Required,Identifier name used for GISAID. Max length is 50 characters.\ngs-segment,Required,Segment name for sequence.\ngs-Subtype,Required,Influenza subtype (e.g. H5N1).\ngs-Lineage,Optional,Lineage information.\ngs-Passage_History,Required,\"\"\"Original\"\" if the sample was sequenced directly from swabs, otherwise add the name of the cell line (e.g., \"\"Vero\"\") used to culture the specimen.\"\ngs-Location,Required,Country.\ngs-province,Required,Province/State.\ngs-sub_province,Optional,\"Local region name, county, territory, etc.\"\ngs-Location_Additional_info,Optional,\"Additional location information (e.g. Cruise Ship, Convention, Live animal market).\"\ngs-Host,Required,\"Host species name. For Wastewater use \"\"Environment\"\".\"\ngs-Host_Additional_info,Optional,Additional information regarding patient (e.g. Patient infected while interacting with animal).\ngs-Submitting_Sample_Id,Optional,ID used by submitting lab.\ngs-Originating_Lab_Id,Optional,ID used for originating lab.\ngs-Originating_Sample_Id,Optional,ID used by originating lab.\ngs-Antigen_Character,Optional,\ngs-Adamantanes_Resistance_geno,Optional,\ngs-Oseltamivir_Resistance_geno,Optional,\ngs-Zanamivir_Resistance_geno,Optional,\ngs-Peramivir_Resistance_geno,Optional,\ngs-Other_Resistance_geno,Optional,\ngs-Host_Gender,Required,\"Synonym for \"\"Biological sex\"\". Should be \"\"Female\"\", \"\"Male\"\", or \"\"Unknown\"\".\"\ngs-Host_Age,Required,Numeric age for host.\ngs-Host_Age_Unit,Required,\"Unit of time for host age (e.g. Year is \"\"Y\"\", Month is \"\"M\"\").\"\ngs-Health_Status,Required,\"E.g., \"\"Hospitalized\"\", \"\"Released\"\", \"\"Live\"\", \"\"Deceased\"\", \"\"Unknown\"\".\"\ngs-Note,Optional,Sequence note.\ngs-PMID,Optional,PubMed ID\n", "type": "text"}, {"name": "templates/config.seqsender.schema_template.csv", "content": "column_name,required_column,description\nsequence_name,Required,Sequence identifier used in fasta file. This is used to create the fasta file for Genbank or GISAID.\norganism,Required,The most descriptive organism name for the samples.\nauthors,Required,\"Citing authors. List of <b>Last, First Middle, suffix</b> separated by a semicolon \"\";\"\" E.g.: \"\"Baker, Howard Henry, Jr.; Powell, Earl Alexander, III.;\"\"\"\ncollection_date,Required,\"Collection date for sequence. Must be in a valid format based on ISO 8601: \"\"YYYY-MM-DD\"\", \"\"YYYY-MM\"\", or \"\"YYYY\"\". Time is not supported.\"\nbioproject,Optional,NCBI BioProject ID.\n", "type": "text"}, {"name": "templates/config.sra.schema_template.csv", "content": "column_name,required_column,description\nsra-sample_name,Required,Identifier name used for SRA. Max length is 50 characters. Name must be unique from BioSample or Genbank submission.\nsra-file_location,Required,\"Location of raw reads files. Options: \"\"local\"\" or \"\"cloud\"\".\"\nsra-file_name,Required,\"Name of the raw read files. All file names must be unique and not contain any sensitive information. Files can be compressed using gzip or bzip2, and may be submitted in a tar archive but archiving and/or compressing your files is not required. Do not use zip! If there are multiple files, concatenate them with a commas (\"\",\"\"), e.g. \"\"sample1_R1.fastq.gz, sample1_R2.fastq.gz\"\". Store files in /seqsender/data/raw_reads/ or provide full html path to the raw read files.\"\nsra-library_name,Optional,Short unique identifier for sequencing library.\nsra-library_strategy,Required,The sequencing technique intended for the library.\nsra-library_source,Required,The type of source material that is being sequenced.\nsra-library_selection,Required,The method used to select and/or enrich the material being sequenced.\nsra-library_layout,Required,\"Whether to expect SINGLE or PAIRED end reads. Options: \"\"single\"\" or \"\"paired\"\".\"\nsra-platform,Optional,Instrument platform.\nsra-instrument_model,Required,Instrument model used for sequencing.\nsra-design_description,Optional,Brief description of materials/methods used for creating sequencing library.\n", "type": "text"}]